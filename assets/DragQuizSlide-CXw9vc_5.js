import{d as D,r as m,c as F,w as R,f as s,o as r,h as p,e,F as y,j as z,m as T,n as u,t as n,k as S,g as V,_ as A}from"./index-CdHjx7PO.js";const L={class:"relative flex h-full flex-col overflow-hidden bg-gradient-to-b from-indigo-50 via-white to-pink-50"},E={key:0,class:"pointer-events-none absolute inset-0 z-50"},H={class:"relative z-10 px-4 py-4 md:px-6"},J={class:"mx-auto max-w-4xl"},O={class:"mb-4 flex items-center justify-between"},P={class:"flex items-center gap-3"},G={class:"flex gap-2"},K={class:"text-sm font-bold text-gray-500"},U={class:"text-center"},W={class:"text-2xl font-black text-gray-800 md:text-3xl"},X={class:"mt-1 text-gray-500"},Y={class:"flex flex-1 flex-col gap-4 overflow-auto px-4 pb-4 md:px-6"},ee={class:"mx-auto w-full max-w-4xl flex-1"},te={class:"mb-6"},oe={class:"mb-2 flex items-center gap-2"},le={class:"font-bold text-gray-700"},se={class:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-bold text-gray-600"},re=["disabled","onClick"],ae={class:"mr-2 text-lg"},ne={class:"font-medium text-gray-700"},de={key:0,class:"flex w-full items-center justify-center py-4 text-gray-400"},ie={class:"grid gap-4 md:grid-cols-2"},ue={class:"mb-3 flex items-center gap-2"},ce={class:"text-2xl"},ve=["disabled"],be=["disabled","onClick"],xe={class:"mr-2 text-lg"},pe={class:"font-medium text-gray-700"},ge={key:0,class:"ml-2"},fe={key:0,class:"flex w-full items-center justify-center py-6 text-blue-400"},me={class:"mb-3 flex items-center gap-2"},he={class:"text-2xl"},_e=["disabled"],ye=["disabled","onClick"],we={class:"mr-2 text-lg"},ke={class:"font-medium text-gray-700"},ze={key:0,class:"ml-2"},je={key:0,class:"flex w-full items-center justify-center py-6 text-emerald-400"},Ce={key:0,class:"flex flex-col items-center gap-2"},Ze={key:1,class:"flex flex-col items-center gap-2"},qe={class:"border-t border-gray-200 bg-white/80 px-4 py-4 backdrop-blur-sm md:px-6"},Ie={class:"mx-auto flex max-w-4xl items-center justify-between"},Se={class:"text-sm text-gray-500"},$e={key:1,class:"font-bold text-emerald-500"},Me={key:2,class:"text-amber-500"},Ne={class:"flex gap-3"},Qe=["disabled"],Be=D({__name:"DragQuizSlide",props:{isMobile:{type:Boolean}},emits:["complete"],setup(De,{emit:$}){const M=$,w=[{id:"q1",title:"åˆ†é¡å¤§æŒ‘æˆ°ï¼",subtitle:"é»é¸å¡ç‰‡ï¼Œå†é»åˆ†é¡å€æ”¾å…¥ ğŸ¯",zone1:{label:"Request",emoji:"ğŸ“¤",color:"blue"},zone2:{label:"Response",emoji:"ğŸ“¥",color:"green"},items:[{id:"item1",text:"ç€è¦½å™¨ç™¼é€ç¶²å€",emoji:"ğŸŒ",correctZone:"request"},{id:"item2",text:"ä¼ºæœå™¨å›å‚³ HTML",emoji:"ğŸ“„",correctZone:"response"},{id:"item3",text:"é»æ“ŠæŒ‰éˆ•é€å‡º",emoji:"ğŸ‘†",correctZone:"request"},{id:"item4",text:"å›å‚³ JSON è³‡æ–™",emoji:"ğŸ“¦",correctZone:"response"},{id:"item5",text:"å¸¶åƒæ•¸æŸ¥è©¢",emoji:"ğŸ”",correctZone:"request"},{id:"item6",text:"å›å‚³ç‹€æ…‹ç¢¼ 200",emoji:"âœ…",correctZone:"response"}]}],g=m(0),i=F(()=>w[g.value]),c=m([]),v=m([]),b=m([]),a=m(null),l=m(!1),f=m(!1),j=m(!1);function Z(){c.value=[...i.value.items].sort(()=>Math.random()-.5),v.value=[],b.value=[],a.value=null,l.value=!1,f.value=!1}R(g,()=>{Z()},{immediate:!0});function C(d,o){if(!l.value){if(a.value?.id===d.id){a.value=null;return}a.value={...d,_fromZone:o}}}function q(d){if(l.value||!a.value)return;const o=a.value,t=o._fromZone||"available";t==="available"?c.value=c.value.filter(k=>k.id!==o.id):t==="zone1"?v.value=v.value.filter(k=>k.id!==o.id):t==="zone2"&&(b.value=b.value.filter(k=>k.id!==o.id));const x={id:o.id,text:o.text,emoji:o.emoji,correctZone:o.correctZone};d==="zone1"?v.value.push(x):b.value.push(x),a.value=null}function I(d,o){l.value||a.value||(o==="zone1"?v.value=v.value.filter(t=>t.id!==d.id):b.value=b.value.filter(t=>t.id!==d.id),c.value.push(d))}function N(){l.value=!0;const d=v.value.every(x=>x.correctZone==="request"),o=b.value.every(x=>x.correctZone==="response"),t=c.value.length===0;f.value=d&&o&&t,f.value&&(j.value=!0,setTimeout(()=>{j.value=!1},2e3))}function h(d,o){return l.value?o==="available"?"wrong":d.correctZone===o?"correct":"wrong":"pending"}function Q(){g.value<w.length-1?g.value++:M("complete")}function B(){Z()}function _(d,o){return{blue:{bg:"bg-blue-100",border:"border-blue-400",text:"text-blue-600"},green:{bg:"bg-emerald-100",border:"border-emerald-400",text:"text-emerald-600"},purple:{bg:"bg-purple-100",border:"border-purple-400",text:"text-purple-600"},orange:{bg:"bg-orange-100",border:"border-orange-400",text:"text-orange-600"}}[d]?.[o]||""}return(d,o)=>(r(),s("div",L,[j.value?(r(),s("div",E,[(r(),s(y,null,z(30,t=>e("div",{key:t,class:"confetti",style:T({left:`${Math.random()*100}%`,animationDelay:`${Math.random()*.5}s`})},null,4)),64))])):p("",!0),e("div",H,[e("div",J,[e("div",O,[e("div",P,[e("div",G,[(r(!0),s(y,null,z(w.length,t=>(r(),s("div",{key:t,class:u(["h-3 w-12 rounded-full transition-all duration-300",t-1<g.value?"bg-emerald-400":t-1===g.value?"bg-indigo-500":"bg-gray-200"])},null,2))),128))]),e("span",K,n(g.value+1)+"/"+n(w.length),1)])]),e("div",U,[e("h1",W,n(i.value.title),1),e("p",X,n(i.value.subtitle),1)])])]),e("div",Y,[e("div",ee,[e("div",te,[e("div",oe,[o[2]||(o[2]=e("span",{class:"text-2xl"},"ğŸ´",-1)),e("span",le,n(a.value?"é»é¸ä¸‹æ–¹å€åŸŸæ”¾å…¥":"é»é¸å¡ç‰‡"),1),e("span",se," å‰© "+n(c.value.length)+" å¼µ ",1)]),e("div",{class:u(["flex min-h-[80px] flex-wrap gap-3 rounded-2xl border-3 border-dashed border-gray-300 bg-white/50 p-4",{"border-amber-400 bg-amber-50/50":c.value.length>0&&l.value}])},[(r(!0),s(y,null,z(c.value,t=>(r(),s("button",{key:t.id,disabled:l.value,class:u(["card-item rounded-xl border-2 px-4 py-3 shadow-md transition-all",[a.value?.id===t.id?"border-indigo-400 bg-indigo-100 shadow-lg shadow-indigo-200 -translate-y-1":"border-gray-200 bg-white hover:-translate-y-1 hover:shadow-lg",l.value?"border-red-300 bg-red-50 cursor-not-allowed":"cursor-pointer"]]),onClick:x=>C(t,"available")},[e("span",ae,n(t.emoji),1),e("span",ne,n(t.text),1)],10,re))),128)),c.value.length===0?(r(),s("div",de," æ‰€æœ‰å¡ç‰‡å·²åˆ†é¡å®Œç•¢ ")):p("",!0)],2)]),e("div",ie,[e("div",{class:u(["rounded-2xl border-3 p-4 transition-all",[_(i.value.zone1.color,"bg"),_(i.value.zone1.color,"border"),a.value&&!l.value?"ring-2 ring-indigo-300 ring-offset-2":""]])},[e("div",ue,[e("span",ce,n(i.value.zone1.emoji),1),e("span",{class:u(["text-lg font-bold",_(i.value.zone1.color,"text")])},n(i.value.zone1.label),3)]),e("button",{type:"button",class:u(["zone-drop flex min-h-[120px] w-full flex-wrap gap-2 rounded-xl border-2 border-dashed border-gray-300 bg-white/60 p-3 text-left transition-all",[a.value&&!l.value?"hover:border-blue-400 hover:bg-blue-50/50 cursor-pointer":""]]),disabled:l.value||!a.value,onClick:o[0]||(o[0]=t=>q("zone1"))},[(r(!0),s(y,null,z(v.value,t=>(r(),s("button",{key:t.id,type:"button",class:u(["card-item rounded-xl border-2 px-4 py-3 shadow-sm transition-all",[h(t,"request")==="correct"?"border-emerald-400 bg-emerald-50":h(t,"request")==="wrong"?"border-red-400 bg-red-50 shake":a.value?.id===t.id?"border-indigo-400 bg-indigo-100":"border-gray-200 bg-white",l.value?"":"cursor-pointer hover:border-red-300"]]),disabled:l.value,onClick:S(x=>a.value?C(t,"zone1"):I(t,"zone1"),["stop"])},[e("span",xe,n(t.emoji),1),e("span",pe,n(t.text),1),l.value?(r(),s("span",ge,n(h(t,"request")==="correct"?"âœ“":"âœ—"),1)):p("",!0)],10,be))),128)),v.value.length===0&&a.value?(r(),s("div",fe," é»æ­¤æ”¾å…¥ ")):p("",!0)],10,ve)],2),e("div",{class:u(["rounded-2xl border-3 p-4 transition-all",[_(i.value.zone2.color,"bg"),_(i.value.zone2.color,"border"),a.value&&!l.value?"ring-2 ring-indigo-300 ring-offset-2":""]])},[e("div",me,[e("span",he,n(i.value.zone2.emoji),1),e("span",{class:u(["text-lg font-bold",_(i.value.zone2.color,"text")])},n(i.value.zone2.label),3)]),e("button",{type:"button",class:u(["zone-drop flex min-h-[120px] w-full flex-wrap gap-2 rounded-xl border-2 border-dashed border-gray-300 bg-white/60 p-3 text-left transition-all",[a.value&&!l.value?"hover:border-emerald-400 hover:bg-emerald-50/50 cursor-pointer":""]]),disabled:l.value||!a.value,onClick:o[1]||(o[1]=t=>q("zone2"))},[(r(!0),s(y,null,z(b.value,t=>(r(),s("button",{key:t.id,type:"button",class:u(["card-item rounded-xl border-2 px-4 py-3 shadow-sm transition-all",[h(t,"response")==="correct"?"border-emerald-400 bg-emerald-50":h(t,"response")==="wrong"?"border-red-400 bg-red-50 shake":a.value?.id===t.id?"border-indigo-400 bg-indigo-100":"border-gray-200 bg-white",l.value?"":"cursor-pointer hover:border-red-300"]]),disabled:l.value,onClick:S(x=>a.value?C(t,"zone2"):I(t,"zone2"),["stop"])},[e("span",we,n(t.emoji),1),e("span",ke,n(t.text),1),l.value?(r(),s("span",ze,n(h(t,"response")==="correct"?"âœ“":"âœ—"),1)):p("",!0)],10,ye))),128)),b.value.length===0&&a.value?(r(),s("div",je," é»æ­¤æ”¾å…¥ ")):p("",!0)],10,_e)],2)]),l.value?(r(),s("div",{key:0,class:u(["mt-4 rounded-2xl p-4 text-center",f.value?"bg-emerald-100":"bg-red-100"])},[f.value?(r(),s("div",Ce,[...o[3]||(o[3]=[e("span",{class:"text-4xl"},"ğŸ‰",-1),e("p",{class:"text-xl font-bold text-emerald-600"},"å¤ªæ£’äº†ï¼å…¨éƒ¨æ­£ç¢ºï¼",-1)])])):(r(),s("div",Ze,[...o[4]||(o[4]=[e("span",{class:"text-4xl"},"ğŸ¤”",-1),e("p",{class:"text-xl font-bold text-red-600"},"æœ‰äº›å¡ç‰‡æ”¾éŒ¯ä½ç½®å›‰",-1),e("p",{class:"text-red-500"},"çœ‹çœ‹æ¨™è¨˜ âœ— çš„å¡ç‰‡ï¼Œå†è©¦ä¸€æ¬¡ï¼",-1)])]))],2)):p("",!0)])]),e("div",qe,[e("div",Ie,[e("div",Se,[l.value?f.value?(r(),s("span",$e,"å®Œç¾ï¼")):(r(),s("span",Me,"å†è©¦ä¸€æ¬¡ï¼Ÿ")):(r(),s(y,{key:0},[V(" æŠŠæ‰€æœ‰å¡ç‰‡æ”¾åˆ°æ­£ç¢ºä½ç½®å¾Œï¼Œé»æ“Šã€Œæª¢æŸ¥ç­”æ¡ˆã€ ")],64))]),e("div",Ne,[l.value&&!f.value?(r(),s("button",{key:0,type:"button",class:"flex items-center gap-2 rounded-full bg-gray-100 px-6 py-3 font-bold text-gray-600 transition-all hover:bg-gray-200",onClick:B},[...o[5]||(o[5]=[e("span",null,"ğŸ”„",-1),e("span",null,"é‡è©¦",-1)])])):p("",!0),l.value?f.value?(r(),s("button",{key:2,type:"button",class:"flex items-center gap-2 rounded-full bg-gradient-to-r from-emerald-500 to-green-500 px-6 py-3 font-bold text-white shadow-lg transition-all hover:shadow-xl",onClick:Q},[e("span",null,n(g.value<w.length-1?"ä¸‹ä¸€é¡Œ â†’":"å®Œæˆ ğŸŠ"),1)])):p("",!0):(r(),s("button",{key:1,type:"button",class:"flex items-center gap-2 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 px-6 py-3 font-bold text-white shadow-lg transition-all hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-50",disabled:c.value.length>0,onClick:N},[...o[6]||(o[6]=[e("span",null,"âœ¨",-1),e("span",null,"æª¢æŸ¥ç­”æ¡ˆ",-1)])],8,Qe))])])])]))}}),Re=A(Be,[["__scopeId","data-v-edea9cb1"]]);export{Re as default};
